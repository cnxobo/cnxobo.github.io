---
title: Linux Hybrid Graphics
tags: []
id: '108'
categories:
  - - Copys
date: 2011-11-12 21:11:21
---

This team is a group of hybrid graphics laptop owners and/or developers interested in getting them to work 100% under Linux. Please join this team if you are new by clicking on the "Join Team" link at the right of the Launchpad page. It's important to have as many users in the community as possible to request for appropriate support. ### RESOURCES: acpi\_call -- byo-switcheroo -- ironhide/bumblebee: There are two modules for switching on/off the discrete card, acpi\_call and byo-switcheroo: You can try them like this: ### a) acpi\_call sudo apt-get install git # type password git clone https://github.com/mkottman/acpi\_call.git cd acpi\_call make sudo insmod acpi\_call.ko ### To check that the status of your VGA devices, run this command: lspci -vnnn grep VGA ### Now run this script: ./test\_off.sh ### If you see a "works!" message, it's found a method. To check that ### the status of your VGA devices has changed, run this command ### again: lspci -vnnn grep VGA ### On an unplugged laptop, clicking on the battery indicator before ### and after running the test.sh script, should show a difference of ### about an extra 1-3 hours battery life. ### b) byo-switcheroo: git clone https://github.com/awilliam/asus-switcheroo.git cd asus-switcheroo make ### To install, pick your distro from: sudo make install-fedora sudo make install-ubuntu sudo make install-arch ### To switch off the card: echo OFF > /sys/kernel/debug/vgaswitcheroo/switch ### more instructions in the README file ### On an unplugged laptop, clicking on the battery indicator before ### and after running the switch, should show a difference of about an ### extra 1-3 hours battery life. For a list of DSDT ON/OFF methods, subscribe to the mailing list at the bottom of the Launchpad page http://launchpad.net/~hybrid-graphics-linux and also follow the blogspot page http://linux-hybrid-graphics.blogspot.com/ We are gathering technical information to improve Linux support for hybrid graphics systems. If you have a switchable graphics laptop, please submit your laptop's DSDT.dsl and SSDT tables as an attachment to this bug report: http://bugs.launchpad.net/bugs/752542 To compile your DSDT and SSDTs information, install if you haven't already the acpidump and iasl tools: sudo apt-get install acpidump iasl ### or sudo yum install pmtools iasl Then run the following commands on a bash terminal: mkdir ~/acpiinfo ; cd ~/acpiinfo sudo acpidump > acpidump.txt # enter password sudo acpixtract acpidump.txt ls \*.dat while read i; do iasl -d "${i}"; done pid=\`sudo dmidecode -s system-product-name\` vid=\`sudo dmidecode -s system-version\` name=${pid// /}.${vid// /} mkdir "${name}" && cp \*.dsl "${name}"/ tar czf "${name}.tar.gz" "${name}"/ && ls -l "$( pwd )/${name}".tar.gz This will create a tar.gz file that you can attach to the bug report. Finally, for posting the information in the bug report, you can check the laptop and graphics card model identifiers with these commands: sudo dmidecode -s system-product-name && sudo dmidecode -s system-version lspci -vnnn perl -lne 'print if /^d+:.+(\[S+:S+\])/' grep VGA This information will allow the full development of hybrid graphics features for Linux. Thanks for your help! -------------------- STATUS -------------------- ATI hybrid: The PowerXpress pre-4.0 models have a mux solution to switch between discrete and integrated card. For most ATI/Intel hybrid configurations: a) try the latest closed-source Catalyst Driver for login/logout card switching, or b) try vga\_switcheroo and open-source graphics drivers (kernel 2.6.35 or newer). The PowerXpress 4.0+ models have a muxless solution to use both cards and switch on/off the discrete card. For Muxless PowerXpress 4.0+ models, please submit your DSDT tables information as described here: http://linux-hybrid-graphics.blogspot.com/ NVIDIA hybrid: For nvidia hybrid configurations: ### a) try acpi\_call or byo-switcheroo for switching on/off ### b) try ironhide/bumblebee for simultaneously using the intel and nvidia cards: ### For ironhide (Ubuntu Natty/Oneiric instructions): sudo apt-get remove bumblebee ### reboot sudo apt-get install dialog ### or sudo apt-get install cdialog sudo apt-add-repository ppa:mj-casalogic/ironhide sudo apt-get update && sudo apt-get install ironhide ### For bumblebee (git installation): sudo apt-get install git # type password git clone http://github.com/MrMEEE/bumblebee.git cd bumblebee/ sudo ./install.sh ### For a WebGL benchmark, install google-chrome or use a ### WebGL-enabled browser and can try it with/without optirun and ### report the FPS values on the mailing list: optirun google-chrome http://webglsamples.googlecode.com/hg/aquarium/aquarium.html # close window google-chrome http://webglsamples.googlecode.com/hg/aquarium/aquarium.html There is ongoing work to support for Nvidia Optimus/Intel hybrid offloading for nouveau drivers: http://airlied.livejournal.com/74176.html We are looking for Linux users with Nvidia Optimus-enabled or AMD BACON muxless laptops willing to provide debugging information for the multi-gpu support features being worked on. Please join the team by clicking on "Join" on the right, fill in this doodle: http://www.doodle.com/63fyczzrxqaquhqx and send an email to the mailing list specifying your laptop model with these commands: sudo dmidecode -s system-product-name && sudo dmidecode -s system-version lspci -vnnn perl -lne 'print if /^d+:.+(\[S+:S+\])/' grep VGA

# Using acpi\_call module to switch on/off discrete graphics card in Linux

sudo apt-get install git # type password git clone http://github.com/mkottman/acpi\_call.git cd acpi\_call make sudo insmod acpi\_call.ko # To check that the status of your VGA devices, run this command: lspci -vnnn grep VGA # Unplug laptop, click on the battery indicator and take note of # estimated remaining time. # Now run this script: ./test\_off.sh # If you see a "works!" message, it's found a method. To check that the status of your VGA devices has changed, run this command again and check for the differences: lspci -vnnn grep VGA Click on the battery indicator after running the test.sh script, it should show a difference of about an extra 1-3 hours battery life. Please join the hybrid graphics team if you are new by clicking on the "Join Team" link at the right in this URL: http://launchpad.net/~hybrid-graphics-linux If you have any comments/questions, the best way to get an answer is to subscribe to the mailing list at the bottom of that page and send an email there.     copy from: [http://linux-hybrid-graphics.blogspot.com/2010/07/using-acpicall-module-to-switch-onoff.html](http://linux-hybrid-graphics.blogspot.com/2010/07/using-acpicall-module-to-switch-onoff.html)